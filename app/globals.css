/* Import our CSS architecture */
@import "./config/primitives.css";
@import "./config/semantics.css";
@import "./config/components.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   GLOBAL OVERRIDES AND ADDITIONS
   ========================================================================== */

/* Reset and base styles */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  color: hsl(var(--color-text));
  background-color: hsl(var(--color-background));
  overflow-x: hidden;
}

/* Add padding for fixed header on interior pages */
body:not(.homepage) {
  padding-top: 4rem; /* 64px to match header height */
}

/* Slide-down animation for sticky headers/navbars */
.slide-down-enter {
  transform: translateY(-100%);
  opacity: 0;
}
.slide-down-enter-active {
  transform: translateY(0);
  opacity: 1;
  transition: transform 500ms ease-out, opacity 500ms ease-out;
}

/* Utility classes for reveal starting states (used by Reveal component as fallback) */
.reveal-hidden { opacity: 0; transform: translateY(8px); }
.reveal-show { opacity: 1; transform: translateY(0); transition: all 700ms ease-out; }

/* Global link hover behavior */
a {
  text-decoration: none;
  transition: var(--transition-smooth);
  color: hsl(var(--color-primary));
}
a:hover {
  text-decoration: underline;
  text-underline-offset: 3px;
  color: hsl(var(--color-primary-glow));
}

/* Surface + text pairs */
.text-on-bg        { color: hsl(var(--color-text)); }
.text-on-muted     { color: hsl(var(--color-text)); }
.text-on-primary   { color: hsl(var(--color-primary-foreground)); }
.text-on-secondary { color: hsl(var(--color-secondary-foreground)); }
.text-on-accent    { color: hsl(var(--color-accent-foreground)); }
.text-on-inverse   { color: #FFFFFF; }

.surface-bg        { background: hsl(var(--color-background)); }
.surface-muted     { background: hsl(var(--color-muted)); }
.surface-primary   { background: hsl(var(--color-primary)); }
.surface-secondary { background: hsl(var(--color-secondary)); }
.surface-accent    { background: hsl(var(--color-accent)); }

/* Image/Video sections: add a scrim to guarantee AA contrast for light text */
.surface-image {
  position: relative;
  color: #FFFFFF; /* pairs with the scrim */
}
.surface-image::before {
  content: "";
  position: absolute; inset: 0;
  background: var(--gradient-overlay);
  pointer-events: none;
}
.surface-image > * { position: relative; }

/* Typography base styles */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: var(--font-semibold);
  line-height: var(--leading-tight);
  color: hsl(var(--color-text));
}

h1 { font-size: var(--text-4xl); font-weight: var(--font-bold); }
h2 { font-size: var(--text-3xl); font-weight: var(--font-semibold); }
h3 { font-size: var(--text-2xl); font-weight: var(--font-semibold); }
h4 { font-size: var(--text-xl); font-weight: var(--font-medium); }
h5 { font-size: var(--text-lg); font-weight: var(--font-medium); }
h6 { font-size: var(--text-base); font-weight: var(--font-medium); }

p {
  font-family: var(--font-body);
  line-height: var(--leading-relaxed);
  color: hsl(var(--color-text));
}

/* Focus styles for better accessibility */
*:focus-visible {
  outline: 2px solid hsl(var(--color-ring));
  outline-offset: 2px;
}

/* Selection styles */
::selection {
  background-color: hsl(var(--color-primary) / 0.2);
  color: hsl(var(--color-text));
}

/* Scrollbar styles */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--color-muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--color-neutral-300));
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-neutral-400));
}
